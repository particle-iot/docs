{
  "type": "libraries",
  "id": "BLE_Group",
  "links": {
    "download": "https://api.particle.io/v1/libraries/BLE_Group/archive/0.4.0.tar.gz"
  },
  "attributes": {
    "name": "BLE_Group",
    "version": "0.4.0",
    "installs": 6861,
    "license": "LGPL",
    "author": "Mariano Goluboff <mariano@particle.io>",
    "sentence": "Create a group of Gen3 Particle devices that can communicate locally over BLE publish/subscribe.",
    "repository": "git repository for the project, like https://github.com/particle-iot/ble-group-library.git",
    "architectures": [],
    "visibility": "public",
    "mine": false
  },
  "kind": "community library",
  "letter": "b",
  "cardUrl": "/cards/libraries/b/BLE_Group",
  "versions": {
    "0.3.0": {
      "builds": {
        "2.0.1": {
          "photon": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "electron": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        },
        "1.5.2": {
          "photon": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "electron": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        }
      }
    },
    "0.4.0": {
      "builds": {
        "2.0.1": {
          "photon": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "electron": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        },
        "1.5.2": {
          "photon": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "electron": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        },
        "3.3.0": {
          "photon": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "electron": {
            "diagnostics": false,
            "heartbeat": false,
            "pingpong": false
          },
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        },
        "5.0.1": {
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "bsom": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "b5som": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "tracker": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "p2": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        },
        "4.0.0": {
          "argon": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "boron": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "bsom": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "b5som": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "tracker": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          },
          "esomx": {
            "diagnostics": true,
            "heartbeat": true,
            "pingpong": true
          }
        }
      },
      "added": "2022-06-17T10:16:53.804Z"
    }
  },
  "readme": "# BLE_Group library\n\nA library that works with Particle Gen3 devices to create a local group over Bluetooth Low Energy (BLE) to publish/subscribe messages.\n\nThe library works by connecting the devices over BLE. One of the devices in the group acts in the Central role, while the others act in the Peripheral role.\n\nData is exchanged one to one from the Central to each Peripheral. However, when data is sent from a Peripheral to the Central, it both \"consumes\" the data locally, as well as forwarding the data to all the other Peripherals that it is connected with.\n\n## Typical Usage\n\nYou will need 2 or more devices. One will act as the Central, and the other(s) as Peripheral.\n\nOn the Central device:\n\n```\n#include \"BLE_Group.h\"\nBLE_Group *group;\n\nvoid callbackFunc(const char *event, const char *data)\n{\n  Log.info(\"Event: %s, Data: %s\", event, data);\n}\n\nvoid setup() {\n  group = new BLE_Group_Central(1); // The parameter is the groupID\n  group->subscribe(\"test\", callbackFunc);\n}\n\nvoid loop() {\n  static uint32_t scan_time = millis();\n  static uint32_t publish_time = millis();\n  // Scan when the number of connected devices is less than the max\n  if (group->devices_connected() < BLE_GROUP_MAX_PERIPHERALS && (millis() - scan_time) > 3000) {\n    group->scan();\n    scan_time = millis();\n  }\n  // Publish every 10 seconds\n  if (group->devices_connected() > 0 && (millis() - publish_time) > 10000) { \n    group->publish(\"test-central\", \"Some data\");\n    publish_time = millis();\n  } \n}\n```\n\nOn the peripheral device:\n\n```\n#include \"BLE_Group.h\"\nBLE_Group *group;\n\nvoid callbackFunc(const char *event, const char *data)\n{\n  Log.info(\"Event: %s, Data: %s\", event, data);\n}\n\nvoid setup() {\n  group = new BLE_Group_Peripheral(1); // The parameter is the groupID\n  group->subscribe(\"test\", callbackFunc);\n}\n\nvoid loop() {\n  static uint32_t publish_time = millis();\n  if ((millis() - publish_time) > 10000) { \n    group->publish(\"test-periph\", \"Some Data\");\n    publish_time = millis();\n  } \n}\n```\n\nIt is also possible to use the same application on the Central and Peripheral devices, and use configuration variables stored in EEPROM to decide which is which. The examples provided with the library show how to do that.\n\n## Examples\n\n* __Diagnostics:__ Cloud-started throughput test, as well as reporting of group health by publishing Connect/Disconnect events\n* __Heartbeat:__ Each device in the group will publish a heartbeat once per minute. The other devices will all receive it and use Particle.publish to send to the Particle cloud\n* __Ping-pong:__ For just 2 devices (one Central and one Peripheral), send a number of events with small data payload back and forth and publish the total amount of time it took, to test message latency.\n",
  "allVersions": [
    "0.4.0",
    "0.3.0",
    "0.2.0",
    "0.1.2",
    "0.1.1",
    "0.1.0"
  ]
}